(wx.webpackJsonp=wx.webpackJsonp||[]).push([[12],{"107":function(t,e,n){"use strict";n.r(e);n(108);var o,a=n(25);for(o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o)},"108":function(t,e,n){"use strict";n(52)},"109":function(t,e,n){},"11":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{"value":!0});var a=function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t};function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function t(e,n,o){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(void 0!==a){if("value"in a)return a.value;a=a.get;return void 0!==a?a.call(o):void 0}if(e=Object.getPrototypeOf(e),null!==e)return t(e,n,o)}var r,i=o(5),u=o(0),s=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(u),l=o(3);function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}o(109);(function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(detailPage,u.Component),a(detailPage,[{"key":"_constructor","value":function _constructor(e){t(detailPage.prototype.__proto__||Object.getPrototypeOf(detailPage.prototype),"_constructor",this).call(this,e),this.state={"num":-1},this.$$refs=new s.default.RefsArray}},{"key":"componentDidMount","value":function componentDidMount(){this.switchTag();var t=Math.floor(5*Math.random())+1;this.setState({"num":t})}},{"key":"componentWillUnmount","value":function componentWillUnmount(){(0,this.props.dispatch)({"type":"author/save","payload":{"hasAuthor":!1}})}},{"key":"_createData","value":function _createData(t,e,n){this.__state=t||this.state||{},this.__props=e||this.props||{};this.$prefix;var o=this.__props,a=o.poetryDetail,r=a.poetryInfo,t=a.tag,e=o.author.hasAuthor;console.log(r);n=this.__state.num,a=(0,u.internal_inline_style)({"backgroundImage":"url(https://cdn.jsdelivr.net/gh/haveyuan/poetry_img/bg/bg"+n+".webp)"}),o=r.notes&&0<r.notes.length?(0,u.internal_inline_style)({"fontWeight":"bold"}):null,n="youmengying"===t?(0,u.internal_inline_style)({"fontWeight":"bold"}):null;return Object.assign(this.__state,{"anonymousState__temp":a,"anonymousState__temp2":o,"anonymousState__temp3":n,"poetryInfo":r,"tag":t,"hasAuthor":e}),this.__state}}]),a=r=detailPage,r.$$events=["toAuthorInfo"],r.$$componentPath="pages/detailPage/detailPage";function detailPage(){var t,o;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,detailPage);for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=o=_possibleConstructorReturn(this,(t=detailPage.__proto__||Object.getPrototypeOf(detailPage)).call.apply(t,[this].concat(n)))).$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","poetryInfo","tag","hasAuthor","num","dispatch","poetryDetail","author"],o.switchTag=function(){var t=o.props.poetryDetail,e=t.poetryInfo;switch(t.tag){case"yuanqu":o.setTitle(e.title);break;case"lunyu":o.setTitle(e.chapter);break;case"shijing":var n=e.chapter+"·"+e.section+"-"+e.title;o.setTitle(n);break;case"youmengying":o.setTitle("幽梦影");break;case"sishuwujing":o.setTitle(e.chapter);break;default:o.setTitle("诗词详情")}},o.setTitle=function(t){s.default.setNavigationBarTitle({"title":t})},o.toAuthorInfo=function(){o.props.author.hasAuthor&&s.default.navigateTo({"url":"/pages/author/authorInfo/authorInfo"})},o.config={"navigationBarBackgroundColor":"#fff"},o.customComponents=[],_possibleConstructorReturn(o,t)}a=(0,i.__decorate)([(0,l.connect)(function(t){return{"poetryDetail":t.poetryDetail,"author":t.author}})],a),n.default=a,Component(o(0).default.createComponent(a,!0))},"25":function(t,e,n){"use strict";n.r(e);var o,a=n(11),r=n.n(a);for(o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e.default=r.a},"52":function(t,e,n){t.exports=n.p+"pages/detailPage/detailPage.wxml"}},[[107,0,1]]]);