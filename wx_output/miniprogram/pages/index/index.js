(wx.webpackJsonp=wx.webpackJsonp||[]).push([[13],{"10":function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{"value":!0});var a=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0!==a){if("value"in a)return a.value;a=a.get;return void 0!==a?a.call(o):void 0}if(t=Object.getPrototypeOf(t),null!==t)return e(t,n,o)}var r,i=o(6),s=o(0),u=_interopRequireDefault(s),l=o(3),c=_interopRequireDefault(o(5));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o(104);(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(Index,s.Component),a(Index,[{"key":"_constructor","value":function _constructor(t){e(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"_constructor",this).call(this,t),this.state={"barHeight":0,"catalog":[],"bgUrl":"","imgUrl":""},this.$$refs=new u.default.RefsArray}},{"key":"componentDidMount","value":function componentDidMount(){var t=this,e=u.default.getMenuButtonBoundingClientRect();u.default.getSystemInfo({"success":function success(){t.setState({"barHeight":e.top})}}),u.default.cloud.downloadFile({"fileID":"cloud://test-hhh.7465-test-hhh-1304398770/poetry/images/bg.webp","success":function success(e){-1<e.errMsg.indexOf("downloadFile:ok")&&t.setState({"bgUrl":e.tempFilePath})}}),this.getallTags()}},{"key":"onShareAppMessage","value":function onShareAppMessage(){return{"title":"这里有最全的诗词种类，快来看看吧！","imageUrl":"../../images/share.jpg","path":"/pages/index/index?is_share=1"}}},{"key":"_createData","value":function _createData(e,t,n){var o=this;this.__state=e||this.state||{},this.__props=t||this.props||{};this.$prefix;var a=this.__state,e=a.bgUrl,t=a.barHeight,n=a.catalog,e=(a.imgUrl,(0,s.internal_inline_style)({"backgroundImage":"url("+e+")"})),t=(0,s.internal_inline_style)({"top":t+"px"}),n=n.map(function(e,t){e={"$original":(0,s.internal_get_original)(e)};t="dzzzz"+t;return o.anonymousFunc0Map[t]=function(){return o.toListPage(e.$original.tag,e.$original.name)},{"_$indexKey":t,"$loopState__temp4":(0,s.internal_inline_style)({"whiteSpace":"pre-line"}),"$original":e.$original}});return Object.assign(this.__state,{"anonymousState__temp":e,"anonymousState__temp2":t,"loopArray9":n}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(e){for(var t,n=arguments.length,o=Array(1<n?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return this.anonymousFunc0Map[e]&&(t=this.anonymousFunc0Map)[e].apply(t,o)}}]),a=r=Index,r.$$events=["anonymousFunc0"],r.$$componentPath="pages/index/index";function Index(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t=_possibleConstructorReturn(this,(e=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(e,[this].concat(o)))).$usedState=["anonymousState__temp","anonymousState__temp2","loopArray9","catalog","barHeight","bgUrl","imgUrl","dispatch"],t.config={"navigationStyle":"custom"},t.getallTags=function(){(0,t.props.dispatch)({"type":"poetryDetail/poetryApi","payload":{"action":"allCategories"},"callback":function callback(e){t.setState({"catalog":e.data})}})},t.toListPage=function(e,t){(0,c.default)("index_page",{"action":"点击诗词分类","catalog":t}),u.default.navigateTo({"url":"/pages/poetryList/poetryList?tag="+e+"&name="+t})},t.getCode=function(){(0,t.props.dispatch)({"type":"poetryDetail/poetryApi","payload":{"action":"getCode","data":{"scene":encodeURIComponent("from=code"),"page":"pages/index/index"}},"callback":function callback(e){console.log(e);e=new Uint8Array(e.buffer.data),e="data:image/png;base64,"+u.default.arrayBufferToBase64(e);console.log(e),t.setState({"imgUrl":e})}})},t.anonymousFunc0Map={},t.customComponents=["Tools"],_possibleConstructorReturn(t,e)}a=(0,i.__decorate)([(0,l.connect)(function(e){return{"poetryDetail":e.poetryDetail}})],a),n.default=a,Component(o(0).default.createComponent(a,!0))},"102":function(e,t,n){"use strict";n.r(t);n(103);var o,a=n(24);for(o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o)},"103":function(e,t,n){"use strict";n(51)},"104":function(e,t,n){},"24":function(e,t,n){"use strict";n.r(t);var o,a=n(10),r=n.n(a);for(o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=r.a},"51":function(e,t,n){e.exports=n.p+"pages/index/index.wxml"}},[[102,0,1,2]]]);