(wx.webpackJsonp=wx.webpackJsonp||[]).push([[13],{"10":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var p=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var o=[],r=!0,n=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(o.push(i.value),!e||o.length!==e);r=!0);}catch(t){n=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(t,e,o){return e&&defineProperties(t.prototype,e),o&&defineProperties(t,o),t};function defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(o):void 0}if(t=Object.getPrototypeOf(t),null!==t)return f(t,e,o)}var n,a=o(7),u=o(0),i=_interopRequireDefault(u),s=o(4),c=o(22),l=_interopRequireDefault(o(23));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}o(98);(function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(poetryList,u.Component),r(poetryList,[{"key":"_constructor","value":function _constructor(t){f(poetryList.prototype.__proto__||Object.getPrototypeOf(poetryList.prototype),"_constructor",this).call(this,t),this.state={"loading":!0,"tag":"","pageNo":1,"poetryListData":[]},this.$$refs=new i.default.RefsArray}},{"key":"componentDidMount","value":function componentDidMount(){var t=this;i.default.setNavigationBarTitle({"title":this.$router.params.name});var e=this.$router.params.tag;this.setState({"tag":e},function(){t.getpoetryList(1)})}},{"key":"onReachBottom","value":function onReachBottom(){var t=this.state,e=t.loading,t=t.pageNo;e&&this.getpoetryList(t)}},{"key":"_createData","value":function _createData(t,e,o){var r=this;this.__state=t||this.state||{},this.__props=e||this.props||{};var n=this.$prefix,a=(0,u.genCompid)(n+"$compid__6"),i=p(a,2),t=i[0],e=i[1],o=this.__state,a=o.loading,i=o.poetryListData,s=o.tag,i=i.map(function(t,e){t={"$original":(0,u.internal_get_original)(t)};function Da(){return r.toDetail(t.$original)}var o=(0,u.genCompid)(n+"ezzzzzzzzz"+e,!0),e=p(o,2),o=e[0],e=e[1];return u.propsManager.set({"tag":s,"poetryObj":t.$original,"clickFn":Da},e,o),{"$loopState__temp2":Da,"$compid__5":e,"$original":t.$original}});return u.propsManager.set({"loading":a},e,t),Object.assign(this.__state,{"loopArray10":i,"$compid__6":e}),this.__state}}]),r=n=poetryList,n.$$events=[],n.$$componentPath="pages/poetryList/poetryList";function poetryList(){var t,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,poetryList);for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n=_possibleConstructorReturn(this,(t=poetryList.__proto__||Object.getPrototypeOf(poetryList)).call.apply(t,[this].concat(o)))).$usedState=["loopArray10","$compid__6","poetryListData","loading","tag","pageNo","dispatch"],n.config={"navigationBarBackgroundColor":"#D9C1A5"},n.getpoetryList=function(r){(0,c.requestCloud)({"clounFnName":"poetry","controller":"poetry","action":"getPoetryList","data":{"pageNo":r,"pageSize":20,"tag":n.state.tag}}).then(function(t){var e,o=n.state.poetryListData;t.data&&(e=r+1,n.setState({"poetryListData":o.concat(t.data),"pageNo":e}),r===t.totalPage&&n.setState({"loading":!1}))}).catch(function(t){(0,l.default)({"title":t.msg})})},n.toDetail=function(t){var e=n.state.tag;(0,n.props.dispatch)({"type":"poetryDetail/save","payload":{"tag":e,"poetryInfo":t}}),i.default.navigateTo({"url":"/pages/detailPage/detailPage"})},n.customComponents=["ListItem","Loading"],_possibleConstructorReturn(n,t)}r=(0,a.__decorate)([(0,s.connect)(function(t){return{"poetryDetail":t.poetryDetail}})],r),e.default=r,Component(o(0).default.createComponent(r,!0))},"24":function(t,e,o){"use strict";o.r(e);var r,n=o(10),a=o.n(n);for(r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);e.default=a.a},"45":function(t,e,o){t.exports=o.p+"pages/poetryList/poetryList.wxml"},"96":function(t,e,o){"use strict";o.r(e);o(97);var r,n=o(24);for(r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r)},"97":function(t,e,o){"use strict";o(45)},"98":function(t,e,o){}},[[96,0,1,2]]]);